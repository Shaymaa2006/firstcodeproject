<!DOCTYPE html>
<html>

<head>
    <title>Music videos</title>
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
    <link rel="icon" href="/images/favicon.ico">
</head>

<body>
    <nav>
        <h1>Music Videos</h1>
        <div class="button"></div>
        <div class="dropdown">
           <button class="dropdown-button">
            <i class="fa-solid fa-bars"></i>
          </button>
          <div class="dropdown-content">
            <a href="index.html" aria-current="page">Home</a>
            <a href="/page2.html" aria-current="page">Concerts</a>
            <a href="/page4.html" aria-current="page">Final Thoughts</a>
          </div></div>
        </nav>
        <form class="form">
        <label for="MusicVideos">Select a type of music genre:</label>
          <select name="MusicVideos" id="MusicVideos" onchange="makeTable()">
          </select>
          <main> 
            <table id="table">
              <thead>
                <tr>
                  <td><b>Name</b></td>
                  <td><b>Artist</b></td>
                  <td><b>Type</b></td>
                  <td><b>Views</b></td>
                </tr>
              </thead>
              <tbody></tbody>
              </table>
              

           <script>
            const MusicVideos =["All","Pop","Hip Hop",];
            const select = document.getElementById("MusicVideos");
            MusicVideos.forEach((type) =>{
              option = document.createElement("option");
              option.value = type;
              option.text = type;
              select.appendChild(option);
            })
            </script>

            <script>
            const MusicVideosData =[
            {
              SongName: "Despacito",
              Artist: "luis Fonsi",
              Type:"Pop",
              Views: "2,993,700,000",
            },{
              SongName:"Sorry (PURPOSE : The Movement)",
              Artist: "Justin Bieber",
              Type:"Pop",
              Views:"3,883,543,678",
            },{
              SongName: "See You Again",
              Artist: "Wiz Khalifa ft. Charlie puth",
              Type:"Hip Hop",
              Views: "6,487,976,583 ", 
            },{
              SongName: "Shape of you",
              Artist: "Ed Sheeran",
              Type:"Pop",
              Views: "6,382,551,607",
            },{
              SongName: "Love the way You Lie",
              Artist: "Eminem ft. Rihanna",
              Type:"Hip Hop",
              Views: "2,911,727,704",
            },{
              SongName: "Taki Taki",
              Artist: "DJ Snake ft. Selena Gomez, ozuna, Cardi B",
              Type:"Hip Hop",
              Views: "2,635,081,321",
            },{
              SongName: "In Da Club",
              Artist: "50 Cent",
              Type:"Hip Hop",
              Views: "2,238,586,095",
            },{
              SongName: "Life is Good",
              Artist: "Future ft. Drake",
              Type:"Hip Hop",
              Views: "2,196,648,282",
            },{
              SongName: "Gangnam Style",
              Artist: "PSY",
              Type:"Pop",
              Views: "5,390,651,878 ",
            },{
              SongName: "Sugar",
              Artist: "Maroon 5",
              Type:"Pop",
              Views: "4,154,498,605",
            }
            ];
            console.log(MusicVideos);

            const writeTableRow = (table, MusicVideos) => {
                const newRow = table.insertRow();

            newRow.innerHTML = `<tr id =${MusicVideos.name}>
                <td>${MusicVideos.SongName}</td>
                <td>${MusicVideos.Artist}</td>
                <td>${MusicVideos.Type}</td>
                <td>${MusicVideos.Views}</td>
              </tr>`;
            }
            // const select= document.getElementById("Music Videos")

            const makeTable = () => {
              const tableBody = document.getElementsByTagName("tbody")[0];
              tableBody.innerHTML = "";
              if (select.value == "All") {
              MusicVideosData.forEach((r) => writeTableRow(tableBody,r));
            } else {
              const filtered = MusicVideosData.filter((r) => select.value == r.Type)
              filtered.forEach((r) => writeTableRow(tableBody, r))
              console.log(filtered);
            }
          }
          makeTable()
            
          
           </script>
          </main>
</body>

</html>